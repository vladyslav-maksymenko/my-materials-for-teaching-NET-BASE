# –ú–æ–¥—É–ª—å 8. –î–µ–ª–µ–≥–∞—Ç–∏, –ø–æ–¥—ñ—ó, –∑–∞–ø–∏—Å–∏

## –ó–º—ñ—Å—Ç
1. [–î–µ–ª–µ–≥–∞—Ç–∏](#–¥–µ–ª–µ–≥–∞—Ç–∏)
2. [–ü–æ–¥—ñ—ó](#–ø–æ–¥—ñ—ó)
3. [–ó–∞–ø–∏—Å–∏ (Records)](#–∑–∞–ø–∏—Å–∏-records)

---

## –î–µ–ª–µ–≥–∞—Ç–∏
#### üéÆ –ü–æ—è—Å–Ω–µ–Ω–Ω—è –¥–ª—è "—Å–≤–æ—ó—Ö"
–£—è–≤—ñ—Ç—å, —â–æ **–î–µ–ª–µ–≥–∞—Ç** ‚Äî —Ü–µ **—É–Ω—ñ–≤–µ—Ä—Å–∞–ª—å–Ω–∞ –∫–Ω–æ–ø–∫–∞** –Ω–∞ –≥–µ–π–º–ø–∞–¥—ñ.
–ö–æ–ª–∏ –≤–∏ –Ω–∞—Ç–∏—Å–∫–∞—î—Ç–µ "X" —É –≥—Ä—ñ, –¥—ñ—è –∑–∞–ª–µ–∂–∏—Ç—å –≤—ñ–¥ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É:
- –Ø–∫—â–æ –≤–∏ –≤ –º–∞—à–∏–Ω—ñ ‚Äî —Ü–µ "–ì–∞–ª—å–º—É–≤–∞—Ç–∏".
- –Ø–∫—â–æ –≤–∏ –ø—ñ—à–∫–∏ ‚Äî —Ü–µ "–°—Ç—Ä–∏–±–∞—Ç–∏".
- –Ø–∫—â–æ –≤–∏ –≤ –º–µ–Ω—é ‚Äî —Ü–µ "–í–∏–±—Ä–∞—Ç–∏".

–°–∞–º–∞ –∫–Ω–æ–ø–∫–∞ "X" –æ–¥–Ω–∞ –π —Ç–∞ —Å–∞–º–∞ (—Ü–µ –¥–µ–ª–µ–≥–∞—Ç). –ê–ª–µ —Ñ—É–Ω–∫—Ü—ñ—è, —è–∫—É –≤–æ–Ω–∞ –≤–∏–∫–æ–Ω—É—î (–º–µ—Ç–æ–¥), –ø—ñ–¥—Å—Ç–∞–≤–ª—è—î—Ç—å—Å—è –≤ –Ω–µ—ó –¥–∏–Ω–∞–º—ñ—á–Ω–æ –≤ –ø—Ä–æ—Ü–µ—Å—ñ –≥—Ä–∏.

**–ì–æ–ª–æ–≤–Ω–∞ —Ñ—ñ—à–∫–∞:** –ü—Ä–æ–≥—Ä–∞–º–∞ –Ω–µ –∑–Ω–∞—î –Ω–∞–ø–µ—Ä–µ–¥, —è–∫–∏–π —Å–∞–º–µ –∫–æ–¥ –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏–º–µ—Ç—å—Å—è. –í–æ–Ω–∞ –ø—Ä–æ—Å—Ç–æ –∫–∞–∂–µ: *"–û—Å—å —Ç—É—Ç –º—ñ—Å—Ü–µ –ø—ñ–¥ —Ñ—É–Ω–∫—Ü—ñ—é. –í—Å—Ç–∞–≤—Ç–µ —Å—é–¥–∏ –±—É–¥—å-—è–∫—É –¥—ñ—é, —è–∫–∞ –ø—ñ–¥—Ö–æ–¥–∏—Ç—å –∑–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏, —ñ —è —ó—ó –∑–∞–ø—É—â—É"*.

---
#### –¢–µ—Ö–Ω—ñ—á–Ω–µ –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è —Ç–∞ –∑–≤'—è–∑–æ–∫ –∑ C++
–ü–µ—Ä—à –Ω—ñ–∂ –¥–∞—Ç–∏ —Å—É–≤–æ—Ä–µ –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è –¥–µ–ª–µ–≥–∞—Ç–∞, —Ö–æ—Ç—ñ–ª–æ—Å—è –± –Ω–∞–≥–∞–¥–∞—Ç–∏ –í–∞–º –ø—Ä–æ **–ø–æ–∫–∞–∂—á–∏–∫–∏ –Ω–∞ —Ñ—É–Ω–∫—Ü—ñ—ó**, —è–∫—ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è –≤ –°++. –Ø–∫ –í–∏ –ø–∞–º'—è—Ç–∞—î—Ç–µ, –ø–æ–∫–∞–∂—á–∏–∫—É –Ω–∞ —Ñ—É–Ω–∫—Ü—ñ—é –º–æ–∂–Ω–∞ –ø—Ä–∏—Å–≤–æ—ó—Ç–∏ –∞–¥—Ä–µ—Å—É —Ñ—É–Ω–∫—Ü—ñ—ó, —Ç–∏–ø –ø–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è —ñ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ —è–∫–æ—ó –∑–±—ñ–≥–∞—é—Ç—å—Å—è –∑ —Ç–∏–ø–æ–º –ø–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è —ñ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ —Å–∞–º–æ–≥–æ –ø–æ–∫–∞–∂—á–∏–∫–∞.

–ê–ª–µ —ñ—Å–Ω—É—î –≤ –°++ —â–µ –π –ø–µ–≤–Ω–∞ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è, —è–∫–∞ –Ω–∞–∑–∏–≤–∞—î—Ç—å—Å—è **–º–∞—Å–∏–≤–æ–º –ø–æ–∫–∞–∂—á–∏–∫—ñ–≤ –Ω–∞ —Ñ—É–Ω–∫—Ü—ñ—é**, —â–æ –¥–∞—î –∑–º–æ–≥—É –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ –∫—ñ–ª—å–∫–∞ –∞–¥—Ä–µ—Å –æ–¥–Ω–æ—Ç–∏–ø–Ω–∏—Ö —Ñ—É–Ω–∫—Ü—ñ–π —É —Ä–∞–∑—ñ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –≤–∏—â–µ–æ–ø–∏—Å–∞–Ω–∏—Ö —É–º–æ–≤. –¢–∞–∫ –æ—Å—å, –¥–µ–ª–µ–≥–∞—Ç–∏ –≤ C# —î –∞–Ω–∞–ª–æ–≥–æ–º –º–∞—Å–∏–≤—ñ–≤ –ø–æ–∫–∞–∂—á–∏–∫—ñ–≤ –Ω–∞ —Ñ—É–Ω–∫—Ü—ñ—é –≤ –°++, –∞–ª–µ –Ω–∞ –±—ñ–ª—å—à –≤–∏—Å–æ–∫–æ–º—É —Ä—ñ–≤–Ω—ñ (–±—ñ–ª—å—à –±–µ–∑–ø–µ—á–Ω—ñ —Ç–∞ –∑—Ä—É—á–Ω—ñ).
### –ü–æ–Ω—è—Ç—Ç—è –¥–µ–ª–µ–≥–∞—Ç–∞

**–î–µ–ª–µ–≥–∞—Ç** - —Ü–µ —Ç–∏–ø, —è–∫–∏–π –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—î –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –º–µ—Ç–æ–¥ –∑ –ø–µ–≤–Ω–æ—é —Å–∏–≥–Ω–∞—Ç—É—Ä–æ—é. –î–µ–ª–µ–≥–∞—Ç –¥–æ–∑–≤–æ–ª—è—î –∑–±–µ—Ä—ñ–≥–∞—Ç–∏ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –º–µ—Ç–æ–¥–∏ —Ç–∞ –≤–∏–∫–ª–∏–∫–∞—Ç–∏ —ó—Ö —á–µ—Ä–µ–∑ –∑–º—ñ–Ω–Ω—É –¥–µ–ª–µ–≥–∞—Ç–∞.

### –°–∏–Ω—Ç–∞–∫—Å–∏—Å –æ–≥–æ–ª–æ—à–µ–Ω–Ω—è –¥–µ–ª–µ–≥–∞—Ç–∞

```csharp
// –ë–∞–∑–æ–≤–∏–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å
public delegate void MyDelegate(string message);

// –î–µ–ª–µ–≥–∞—Ç –∑ –ø–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è–º –∑–Ω–∞—á–µ–Ω–Ω—è
public delegate int MathOperation(int a, int b);

// –î–µ–ª–µ–≥–∞—Ç –±–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤
public delegate void SimpleAction();
```

**–ö–ª—é—á–æ–≤—ñ –º–æ–º–µ–Ω—Ç–∏:**
- –ö–ª—é—á–æ–≤–µ —Å–ª–æ–≤–æ `delegate`
- –í–∫–∞–∑—É—î—Ç—å—Å—è —Ç–∏–ø –ø–æ–≤–µ—Ä–Ω–µ–Ω–Ω—è —Ç–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏
- –î–µ–ª–µ–≥–∞—Ç –≤–∏–∑–Ω–∞—á–∞—î "–∫–æ–Ω—Ç—Ä–∞–∫—Ç" –¥–ª—è –º–µ—Ç–æ–¥—ñ–≤, —è–∫—ñ –º–æ–∂—É—Ç—å –±—É—Ç–∏ –¥–æ –Ω—å–æ–≥–æ –ø—Ä–∏–≤'—è–∑–∞–Ω—ñ

### –¶—ñ–ª—ñ —Ç–∞ –∑–∞–≤–¥–∞–Ω–Ω—è –¥–µ–ª–µ–≥–∞—Ç—ñ–≤

1. **–Ü–Ω–∫–∞–ø—Å—É–ª—è—Ü—ñ—è –º–µ—Ç–æ–¥—ñ–≤**: –î–µ–ª–µ–≥–∞—Ç –¥–æ–∑–≤–æ–ª—è—î –ø–µ—Ä–µ–¥–∞–≤–∞—Ç–∏ –º–µ—Ç–æ–¥–∏ —è–∫ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏
2. **–ó–≤–æ—Ä–æ—Ç–Ω—ñ –≤–∏–∫–ª–∏–∫–∏ (Callbacks)**: –†–µ–∞–ª—ñ–∑–∞—Ü—ñ—è –º–µ—Ö–∞–Ω—ñ–∑–º—É –∑–≤–æ—Ä–æ—Ç–Ω–∏—Ö –≤–∏–∫–ª–∏–∫—ñ–≤
3. **–ü–æ–¥—ñ—ó**: –û—Å–Ω–æ–≤–∞ –¥–ª—è —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó –ø–æ–¥—ñ–π –≤ .NET
4. **–ì–Ω—É—á–∫—ñ—Å—Ç—å**: –ú–æ–∂–ª–∏–≤—ñ—Å—Ç—å –∑–º—ñ–Ω—é–≤–∞—Ç–∏ –ø–æ–≤–µ–¥—ñ–Ω–∫—É –ø—Ä–æ–≥—Ä–∞–º–∏ –ø—ñ–¥ —á–∞—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è
5. **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–µ –ø—Ä–æ–≥—Ä–∞–º—É–≤–∞–Ω–Ω—è**: –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –≤ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∏—Ö –æ–ø–µ—Ä–∞—Ü—ñ—è—Ö

**–ü—Ä–∏–∫–ª–∞–¥ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:**
```csharp
public delegate void ProcessHandler(int value);

public void ProcessData(int[] data, ProcessHandler handler)
{
    foreach (int item in data)
    {
        handler(item); // –í–∏–∫–ª–∏–∫ –º–µ—Ç–æ–¥—É —á–µ—Ä–µ–∑ –¥–µ–ª–µ–≥–∞—Ç
    }
}
```

### –í–∏–∫–ª–∏–∫ –¥–µ–∫—ñ–ª—å–∫–æ—Ö –º–µ—Ç–æ–¥—ñ–≤ —á–µ—Ä–µ–∑ –¥–µ–ª–µ–≥–∞—Ç (Multicasting)

**Multicast –¥–µ–ª–µ–≥–∞—Ç** - —Ü–µ –¥–µ–ª–µ–≥–∞—Ç, —è–∫–∏–π –º—ñ—Å—Ç–∏—Ç—å –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –¥–µ–∫—ñ–ª—å–∫–∞ –º–µ—Ç–æ–¥—ñ–≤. –ü—Ä–∏ –≤–∏–∫–ª–∏–∫—É –¥–µ–ª–µ–≥–∞—Ç–∞ –≤–∏–∫–æ–Ω—É—é—Ç—å—Å—è –≤—Å—ñ –º–µ—Ç–æ–¥–∏ –≤ –ø–æ—Ä—è–¥–∫—É —ó—Ö –¥–æ–¥–∞–≤–∞–Ω–Ω—è.

**–û–ø–µ—Ä–∞—Ü—ñ—ó:**
- `+=` - –¥–æ–¥–∞–≤–∞–Ω–Ω—è –º–µ—Ç–æ–¥—É –¥–æ –¥–µ–ª–µ–≥–∞—Ç–∞
- `-=` - –≤–∏–¥–∞–ª–µ–Ω–Ω—è –º–µ—Ç–æ–¥—É –∑ –¥–µ–ª–µ–≥–∞—Ç–∞

**–ü—Ä–∏–∫–ª–∞–¥:**
```csharp
public delegate void MultiMethodDelegate();

MultiMethodDelegate multiDel = Method1;
multiDel += Method2;  // –î–æ–¥–∞—î–º–æ Method2
multiDel += Method3;  // –î–æ–¥–∞—î–º–æ Method3

multiDel(); // –í–∏–∫–ª–∏–∫–∞—é—Ç—å—Å—è Method1, Method2, Method3

multiDel -= Method2;  // –í–∏–¥–∞–ª—è—î–º–æ Method2
multiDel(); // –í–∏–∫–ª–∏–∫–∞—é—Ç—å—Å—è —Ç—ñ–ª—å–∫–∏ Method1, Method3
```

**–í–∞–∂–ª–∏–≤–æ:**
- –ú–µ—Ç–æ–¥–∏ –≤–∏–∫–ª–∏–∫–∞—é—Ç—å—Å—è –≤ –ø–æ—Ä—è–¥–∫—É –¥–æ–¥–∞–≤–∞–Ω–Ω—è
- –Ø–∫—â–æ –¥–µ–ª–µ–≥–∞—Ç –ø–æ–≤–µ—Ä—Ç–∞—î –∑–Ω–∞—á–µ–Ω–Ω—è, –ø–æ–≤–µ—Ä—Ç–∞—î—Ç—å—Å—è –∑–Ω–∞—á–µ–Ω–Ω—è –æ—Å—Ç–∞–Ω–Ω—å–æ–≥–æ –º–µ—Ç–æ–¥—É
- –Ø–∫—â–æ –æ–¥–∏–Ω –∑ –º–µ—Ç–æ–¥—ñ–≤ –≤–∏–∫–∏–¥–∞—î –≤–∏–Ω—è—Ç–æ–∫, –Ω–∞—Å—Ç—É–ø–Ω—ñ –º–µ—Ç–æ–¥–∏ –º–æ–∂—É—Ç—å –Ω–µ –≤–∏–∫–æ–Ω–∞—Ç–∏—Å—è

### –ë–∞–∑–æ–≤—ñ –∫–ª–∞—Å–∏ –¥–ª—è –¥–µ–ª–µ–≥–∞—Ç—ñ–≤

#### System.Delegate

`System.Delegate` - —Ü–µ –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–∏–π –±–∞–∑–æ–≤–∏–π –∫–ª–∞—Å –¥–ª—è –≤—Å—ñ—Ö —Ç–∏–ø—ñ–≤ –¥–µ–ª–µ–≥–∞—Ç—ñ–≤.

**–û—Å–Ω–æ–≤–Ω—ñ –≤–ª–∞—Å—Ç–∏–≤–æ—Å—Ç—ñ —Ç–∞ –º–µ—Ç–æ–¥–∏:**
- `Method` - –æ—Ç—Ä–∏–º—É—î —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é –ø—Ä–æ –º–µ—Ç–æ–¥
- `Target` - –æ—Ç—Ä–∏–º—É—î –æ–±'—î–∫—Ç, –Ω–∞ —è–∫–æ–º—É –≤–∏–∫–ª–∏–∫–∞—î—Ç—å—Å—è –º–µ—Ç–æ–¥ (null –¥–ª—è —Å—Ç–∞—Ç–∏—á–Ω–∏—Ö –º–µ—Ç–æ–¥—ñ–≤)
- `GetInvocationList()` - –æ—Ç—Ä–∏–º—É—î –º–∞—Å–∏–≤ –¥–µ–ª–µ–≥–∞—Ç—ñ–≤ (–¥–ª—è multicast)

**–ü—Ä–∏–∫–ª–∞–¥:**
```csharp
SimpleDelegate del = PrintMessage;
Delegate baseDelegate = del;

Console.WriteLine($"–ú–µ—Ç–æ–¥: {baseDelegate.Method.Name}");
Console.WriteLine($"Target: {baseDelegate.Target ?? "null"}");
```

#### System.MulticastDelegate

`System.MulticastDelegate` - —Ü–µ –∫–ª–∞—Å, —è–∫–∏–π –Ω–∞—Å–ª—ñ–¥—É—î—Ç—å—Å—è –≤—ñ–¥ `System.Delegate` —ñ –¥–æ–¥–∞—î –ø—ñ–¥—Ç—Ä–∏–º–∫—É multicast —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—ñ.

**–û—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ:**
- –í—Å—ñ –¥–µ–ª–µ–≥–∞—Ç–∏ –≤ C# –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –Ω–∞—Å–ª—ñ–¥—É—é—Ç—å—Å—è –≤—ñ–¥ `MulticastDelegate`
- –ü—ñ–¥—Ç—Ä–∏–º—É—î –≤–∏–∫–ª–∏–∫ –¥–µ–∫—ñ–ª—å–∫–æ—Ö –º–µ—Ç–æ–¥—ñ–≤
- –ú–∞—î –≤–Ω—É—Ç—Ä—ñ—à–Ω—ñ–π —Å–ø–∏—Å–æ–∫ –≤–∏–∫–ª–∏–∫—ñ–≤ (invocation list)

**–ü—Ä–∏–∫–ª–∞–¥:**
```csharp
if (del is MulticastDelegate multicastDel)
{
    Delegate[] invocationList = multicastDel.GetInvocationList();
    Console.WriteLine($"–ö—ñ–ª—å–∫—ñ—Å—Ç—å –º–µ—Ç–æ–¥—ñ–≤: {invocationList.Length}");
}
```

---

## –ü–æ–¥—ñ—ó

### –ü–æ–Ω—è—Ç—Ç—è –ø–æ–¥—ñ—ó

**–ü–æ–¥—ñ—è (Event)** - —Ü–µ —Å–ø–µ—Ü—ñ–∞–ª—å–Ω–∏–π –≤–∏–¥ –¥–µ–ª–µ–≥–∞—Ç–∞, —è–∫–∏–π –∑–∞–±–µ–∑–ø–µ—á—É—î –±–µ–∑–ø–µ—á–Ω–∏–π –º–µ—Ö–∞–Ω—ñ–∑–º –¥–ª—è —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó –ø–∞—Ç–µ—Ä–Ω—É Observer. –ü–æ–¥—ñ—ó –¥–æ–∑–≤–æ–ª—è—é—Ç—å –æ–±'—î–∫—Ç–∞–º —Å–ø–æ–≤—ñ—â–∞—Ç–∏ —ñ–Ω—à—ñ –æ–±'—î–∫—Ç–∏ –ø—Ä–æ –∑–º—ñ–Ω–∏ —Å—Ç–∞–Ω—É.

**–í—ñ–¥–º—ñ–Ω–Ω–æ—Å—Ç—ñ –≤—ñ–¥ –∑–≤–∏—á–∞–π–Ω–æ–≥–æ –¥–µ–ª–µ–≥–∞—Ç–∞:**
- –ü–æ–¥—ñ—é –º–æ–∂–Ω–∞ –≤–∏–∫–ª–∏–∫–∞—Ç–∏ —Ç—ñ–ª—å–∫–∏ –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ –∫–ª–∞—Å—É, –¥–µ –≤–æ–Ω–∞ –æ–≥–æ–ª–æ—à–µ–Ω–∞
- –ó–∑–æ–≤–Ω—ñ –º–æ–∂–Ω–∞ —Ç—ñ–ª—å–∫–∏ –ø—ñ–¥–ø–∏—Å—É–≤–∞—Ç–∏—Å—è (`+=`) —Ç–∞ –≤—ñ–¥–ø–∏—Å—É–≤–∞—Ç–∏—Å—è (`-=`)
- –ó–∞–±–µ–∑–ø–µ—á—É—î —ñ–Ω–∫–∞–ø—Å—É–ª—è—Ü—ñ—é —Ç–∞ –±–µ–∑–ø–µ–∫—É

### –°–∏–Ω—Ç–∞–∫—Å–∏—Å –æ–≥–æ–ª–æ—à–µ–Ω–Ω—è –ø–æ–¥—ñ—ó

```csharp
// –ë–∞–∑–æ–≤–∏–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å
public event EventHandler? MyEvent;

// –ü–æ–¥—ñ—è –∑ –∫–∞—Å—Ç–æ–º–Ω–∏–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
public event EventHandler<CustomEventArgs>? CustomEvent;

// –ü–æ–¥—ñ—è –∑ –≤–ª–∞—Å–Ω–∏–º –¥–µ–ª–µ–≥–∞—Ç–æ–º
public delegate void TemperatureChangedHandler(object sender, TemperatureEventArgs e);
public event TemperatureChangedHandler? TemperatureChanged;
```

**–ö–ª—é—á–æ–≤—ñ –º–æ–º–µ–Ω—Ç–∏:**
- –ö–ª—é—á–æ–≤–µ —Å–ª–æ–≤–æ `event`
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –¥–µ–ª–µ–≥–∞—Ç –¥–ª—è –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è —Å–∏–≥–Ω–∞—Ç—É—Ä–∏
- –ó–∞–∑–≤–∏—á–∞–π –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è `EventHandler` –∞–±–æ `EventHandler<T>`

### –ù–µ–æ–±—Ö—ñ–¥–Ω—ñ—Å—Ç—å —ñ –æ—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ –∑–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è –ø–æ–¥—ñ–π

**–ß–æ–º—É –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –ø–æ–¥—ñ—ó:**
1. **–Ü–Ω–∫–∞–ø—Å—É–ª—è—Ü—ñ—è**: –ó–∞—Ö–∏—Å—Ç –≤—ñ–¥ –ø—Ä—è–º–æ–≥–æ –≤–∏–∫–ª–∏–∫—É –∑–∑–æ–≤–Ω—ñ
2. **–ë–µ–∑–ø–µ–∫–∞**: –ù–µ–º–æ–∂–ª–∏–≤–æ –≤–∏–ø–∞–¥–∫–æ–≤–æ –æ—á–∏—Å—Ç–∏—Ç–∏ –≤—Å—ñ—Ö –ø—ñ–¥–ø–∏—Å–Ω–∏–∫—ñ–≤ (`= null`)
3. **–°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∞—Ü—ñ—è**: –£–∑–≥–æ–¥–∂–µ–Ω–∏–π –ø—ñ–¥—Ö—ñ–¥ –¥–æ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó –ø–∞—Ç–µ—Ä–Ω—É Observer
4. **–ó—Ä—É—á–Ω—ñ—Å—Ç—å**: –ü—Ä–æ—Å—Ç–∏–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –¥–ª—è –ø—ñ–¥–ø–∏—Å–∫–∏/–≤—ñ–¥–ø–∏—Å–∫–∏

**–û—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ:**
- –ü–æ–¥—ñ—é –º–æ–∂–Ω–∞ –≤–∏–∫–ª–∏–∫–∞—Ç–∏ —Ç—ñ–ª—å–∫–∏ –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ –∫–ª–∞—Å—É-–≤–∏–¥–∞–≤–∞—á–∞
- –ó–∑–æ–≤–Ω—ñ –¥–æ—Å—Ç—É–ø–Ω—ñ —Ç—ñ–ª—å–∫–∏ –æ–ø–µ—Ä–∞—Ü—ñ—ó `+=` —Ç–∞ `-=`
- –ü—ñ–¥—Ç—Ä–∏–º—É—î multicast (–±–∞–≥–∞—Ç–æ–∞–¥—Ä–µ—Å–Ω—ñ—Å—Ç—å)

**–ü—Ä–∏–∫–ª–∞–¥:**
```csharp
public class Button
{
    public event EventHandler? Clicked;
    
    public void Click()
    {
        // –í–∏–∫–ª–∏–∫ –ø–æ–¥—ñ—ó (—Ç—ñ–ª—å–∫–∏ –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ –∫–ª–∞—Å—É)
        Clicked?.Invoke(this, EventArgs.Empty);
    }
}

// –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è
Button button = new();
button.Clicked += OnButtonClicked;  // –ü—ñ–¥–ø–∏—Å–∫–∞
button.Click();  // –í–∏–∫–ª–∏–∫ –ø–æ–¥—ñ—ó
```

### –ó–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è –ø–æ–¥—ñ—ó –¥–ª—è –±–∞–≥–∞—Ç–æ–∞–¥—Ä–µ—Å–Ω–æ–≥–æ –¥–µ–ª–µ–≥–∞—Ç–∞

–ü–æ–¥—ñ—ó –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø—ñ–¥—Ç—Ä–∏–º—É—é—Ç—å multicast —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å. –ö—ñ–ª—å–∫–∞ –æ–±—Ä–æ–±–Ω–∏–∫—ñ–≤ –º–æ–∂—É—Ç—å –ø—ñ–¥–ø–∏—Å–∞—Ç–∏—Å—è –Ω–∞ –æ–¥–Ω—É –ø–æ–¥—ñ—é, —ñ –≤—Å—ñ –≤–æ–Ω–∏ –±—É–¥—É—Ç—å –≤–∏–∫–ª–∏–∫–∞–Ω—ñ –ø—Ä–∏ –≤–∏–Ω–∏–∫–Ω–µ–Ω–Ω—ñ –ø–æ–¥—ñ—ó.

**–ü—Ä–∏–∫–ª–∞–¥:**
```csharp
public class TemperatureSensor
{
    public event EventHandler<double>? TemperatureChanged;
    
    public void UpdateTemperature(double temp)
    {
        TemperatureChanged?.Invoke(this, temp);
    }
}

// –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è
TemperatureSensor sensor = new();
sensor.TemperatureChanged += Logger.OnTemperatureChanged;
sensor.TemperatureChanged += Display.UpdateTemperature;
sensor.TemperatureChanged += Alarm.CheckTemperature;

sensor.UpdateTemperature(25.5); // –í–∏–∫–ª–∏–∫–∞—é—Ç—å—Å—è –≤—Å—ñ —Ç—Ä–∏ –æ–±—Ä–æ–±–Ω–∏–∫–∏
```

**–ü–µ—Ä–µ–≤–∞–≥–∏:**
- –î–µ–∫—ñ–ª—å–∫–∞ –æ–±—Ä–æ–±–Ω–∏–∫—ñ–≤ –º–æ–∂—É—Ç—å —Ä–µ–∞–≥—É–≤–∞—Ç–∏ –Ω–∞ –æ–¥–Ω—É –ø–æ–¥—ñ—é
- –õ–µ–≥–∫–æ –¥–æ–¥–∞–≤–∞—Ç–∏/–≤–∏–¥–∞–ª—è—Ç–∏ –æ–±—Ä–æ–±–Ω–∏–∫–∏
- –û–±—Ä–æ–±–Ω–∏–∫–∏ –Ω–µ–∑–∞–ª–µ–∂–Ω—ñ –æ–¥–∏–Ω –≤—ñ–¥ –æ–¥–Ω–æ–≥–æ

### –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –ø–æ–¥—ñ—î–≤–∏—Ö –∑–∞—Å–æ–±—ñ–≤ –¥–æ—Å—Ç—É–ø—É (Event Accessors)

–ü–æ–¥—ñ—ó –º–æ–∂—É—Ç—å –º–∞—Ç–∏ –≤–ª–∞—Å–Ω—ñ –∑–∞—Å–æ–±–∏ –¥–æ—Å—Ç—É–ø—É `add` —Ç–∞ `remove`, —â–æ –¥–æ–∑–≤–æ–ª—è—î –∫–æ–Ω—Ç—Ä–æ–ª—é–≤–∞—Ç–∏ –ø—Ä–æ—Ü–µ—Å –ø—ñ–¥–ø–∏—Å–∫–∏ —Ç–∞ –≤—ñ–¥–ø–∏—Å–∫–∏.

**–°–∏–Ω—Ç–∞–∫—Å–∏—Å:**
```csharp
private EventHandler? _myEvent;

public event EventHandler? MyEvent
{
    add
    {
        // –ö–æ–¥, —è–∫–∏–π –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è –ø—Ä–∏ –ø—ñ–¥–ø–∏—Å—Ü—ñ
        Console.WriteLine("–î–æ–¥–∞–≤–∞–Ω–Ω—è –ø—ñ–¥–ø–∏—Å–Ω–∏–∫–∞");
        _myEvent += value;
    }
    remove
    {
        // –ö–æ–¥, —è–∫–∏–π –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è –ø—Ä–∏ –≤—ñ–¥–ø–∏—Å—Ü—ñ
        Console.WriteLine("–í–∏–¥–∞–ª–µ–Ω–Ω—è –ø—ñ–¥–ø–∏—Å–Ω–∏–∫–∞");
        _myEvent -= value;
    }
}
```

**–ó–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è:**
- –õ–æ–≥—É–≤–∞–Ω–Ω—è –ø—ñ–¥–ø–∏—Å–æ–∫/–≤—ñ–¥–ø–∏—Å–æ–∫
- –û–±–º–µ–∂–µ–Ω–Ω—è –∫—ñ–ª—å–∫–æ—Å—Ç—ñ –ø—ñ–¥–ø–∏—Å–Ω–∏–∫—ñ–≤
- –°–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è –≤ –±–∞–≥–∞—Ç–æ–ø–æ—Ç–æ—á–Ω–æ–º—É —Å–µ—Ä–µ–¥–æ–≤–∏—â—ñ
- –î–æ–¥–∞—Ç–∫–æ–≤–∞ –≤–∞–ª—ñ–¥–∞—Ü—ñ—è

**–ü—Ä–∏–∫–ª–∞–¥ –∑ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—î—é:**
```csharp
private EventHandler? _threadSafeEvent;
private readonly object _lockObject = new();

public event EventHandler? ThreadSafeEvent
{
    add
    {
        lock (_lockObject)
        {
            _threadSafeEvent += value;
        }
    }
    remove
    {
        lock (_lockObject)
        {
            _threadSafeEvent -= value;
        }
    }
}
```

---

## –ó–∞–ø–∏—Å–∏ (Records)

### –ü–æ–Ω—è—Ç—Ç—è –∑–∞–ø–∏—Å—É

**Record** - —Ü–µ –Ω–æ–≤–∏–π —Ç–∏–ø –ø–æ—Å–∏–ª–∞–Ω–Ω—è, –≤–≤–µ–¥–µ–Ω–∏–π –≤ C# 9.0, —è–∫–∏–π –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–∏–π –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –Ω–µ–∑–º—ñ–Ω–Ω–∏—Ö —Ç–∏–ø—ñ–≤ –¥–∞–Ω–∏—Ö –∑ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ—é —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—î—é —Ä—ñ–≤–Ω–æ—Å—Ç—ñ –∑–∞ –∑–Ω–∞—á–µ–Ω–Ω—è–º.

**–û—Å–Ω–æ–≤–Ω—ñ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏:**
- –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –∑–∞ –∑–Ω–∞—á–µ–Ω–Ω—è–º (value-based equality)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ü—ñ—è `Equals`, `GetHashCode`, `ToString`
- –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ `with` –≤–∏—Ä–∞–∑—ñ–≤ –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–æ–ø—ñ–π
- –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ deconstruction

### –°–∏–Ω—Ç–∞–∫—Å–∏—Å –æ–≥–æ–ª–æ—à–µ–Ω–Ω—è –∑–∞–ø–∏—Å—É

**Positional record (–∫–æ—Ä–æ—Ç–∫–∏–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å):**
```csharp
public record Person(string FirstName, string LastName, int Age);
```

**Record class (–ø–æ–≤–Ω–∏–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å):**
```csharp
public record Person
{
    public string FirstName { get; init; }
    public string LastName { get; init; }
    public int Age { get; init; }
    
    public Person(string firstName, string lastName, int age)
    {
        FirstName = firstName;
        LastName = lastName;
        Age = age;
    }
}
```

### –û—Å–Ω–æ–≤–Ω—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ

#### 1. –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –∑–∞ –∑–Ω–∞—á–µ–Ω–Ω—è–º

```csharp
Person person1 = new("–Ü–≤–∞–Ω", "–ü–µ—Ç—Ä–µ–Ω–∫–æ", 25);
Person person2 = new("–Ü–≤–∞–Ω", "–ü–µ—Ç—Ä–µ–Ω–∫–æ", 25);

Console.WriteLine(person1 == person2); // True (–ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –∑–∞ –∑–Ω–∞—á–µ–Ω–Ω—è–º)
Console.WriteLine(person1.Equals(person2)); // True
```

#### 2. –í–∏—Ä–∞–∑ `with` –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–æ–ø—ñ–π

```csharp
Person original = new("–Ü–≤–∞–Ω", "–ü–µ—Ç—Ä–µ–Ω–∫–æ", 25);
Person modified = original with { Age = 26 }; // –ù–æ–≤–∏–π –æ–±'—î–∫—Ç –∑—ñ –∑–º—ñ–Ω–µ–Ω–∏–º Age
```

#### 3. Deconstruction

```csharp
Person person = new("–Ü–≤–∞–Ω", "–ü–µ—Ç—Ä–µ–Ω–∫–æ", 25);
var (firstName, lastName, age) = person;
```

#### 4. Record struct

```csharp
public record struct Point(int X, int Y);
```

### –ó–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è

**–ö–æ–ª–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ records:**
- DTO (Data Transfer Objects)
- –ù–µ–∑–º—ñ–Ω–Ω—ñ –æ–±'—î–∫—Ç–∏ –¥–∞–Ω–∏—Ö
- Value objects
- –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ–π–Ω—ñ –æ–±'—î–∫—Ç–∏
- –†–µ–∑—É–ª—å—Ç–∞—Ç–∏ –∑–∞–ø–∏—Ç—ñ–≤

**–ü–µ—Ä–µ–≤–∞–≥–∏:**
- –ú–µ–Ω—à–µ –∫–æ–¥—É –¥–ª—è –Ω–∞–ø–∏—Å–∞–Ω–Ω—è
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è —Ä—ñ–≤–Ω–æ—Å—Ç—ñ
- –ù–µ–∑–º—ñ–Ω–Ω—ñ—Å—Ç—å –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º
- –ó—Ä—É—á–Ω–∏–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å

---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ—î–∫—Ç—É

```
Module8ConsoleApp/
‚îú‚îÄ‚îÄ Program.cs                 - –ì–æ–ª–æ–≤–Ω–∏–π —Ñ–∞–π–ª –∑ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—î—é
‚îú‚îÄ‚îÄ DelegatesExamples.cs      - –ü—Ä–∏–∫–ª–∞–¥–∏ —Ä–æ–±–æ—Ç–∏ –∑ –¥–µ–ª–µ–≥–∞—Ç–∞–º–∏
‚îú‚îÄ‚îÄ EventsExamples.cs         - –ü—Ä–∏–∫–ª–∞–¥–∏ —Ä–æ–±–æ—Ç–∏ –∑ –ø–æ–¥—ñ—è–º–∏
‚îú‚îÄ‚îÄ RecordsExamples.cs         - –ü—Ä–∏–∫–ª–∞–¥–∏ —Ä–æ–±–æ—Ç–∏ –∑ –∑–∞–ø–∏—Å–∞–º–∏
‚îî‚îÄ‚îÄ README.md                 - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è (—Ü–µ–π —Ñ–∞–π–ª)
```

## –ó–∞–ø—É—Å–∫ –ø—Ä–æ—î–∫—Ç—É

```bash
dotnet build
dotnet run
```

## –¶—ñ–ª—å–æ–≤–∏–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫

–ü—Ä–æ—î–∫—Ç –Ω–∞—Ü—ñ–ª–µ–Ω–∏–π –Ω–∞ **.NET 10.0**

---

## –î–æ–¥–∞—Ç–∫–æ–≤—ñ —Ä–µ—Å—É—Ä—Å–∏

- [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è Microsoft –ø—Ä–æ –¥–µ–ª–µ–≥–∞—Ç–∏](https://docs.microsoft.com/dotnet/csharp/programming-guide/delegates/)
- [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è Microsoft –ø—Ä–æ –ø–æ–¥—ñ—ó](https://docs.microsoft.com/dotnet/csharp/programming-guide/events/)
- [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è Microsoft –ø—Ä–æ records](https://docs.microsoft.com/dotnet/csharp/language-reference/builtin-types/record)

